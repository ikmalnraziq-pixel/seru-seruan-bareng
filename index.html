<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruto AI - Percakapan Lebih Lancar</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Roboto,sans-serif}
        body{background:#f5f7fa;min-height:100vh;padding:10px;display:flex;justify-content:center;align-items:center}
        .ruto-wrap{width:100%;max-width:680px;height:95vh;background:#fff;border-radius:20px;box-shadow:0 8px 30px rgba(0,0,0,0.12);display:flex;flex-direction:column;overflow:hidden}
        /* Header */
        .ruto-header{background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;padding:18px 24px;display:flex;align-items:center;justify-content:space-between}
        .header-left{display:flex;align-items:center;gap:12px}
        .avatar{width:40px;height:40px;background:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#4f46e5}
        .header-right{display:flex;gap:10px}
        .ctrl-btn{width:32px;height:32px;background:rgba(255,255,255,0.2);border:none;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:all 0.2s}
        .ctrl-btn:hover{background:rgba(255,255,255,0.3)}
        /* Chat Area */
        .ruto-chat{flex:1;padding:24px;overflow-y:auto;display:flex;flex-direction:column;gap:18px;scroll-behavior:smooth}
        /* Pesan Style */
        .msg{max-width:78%;padding:14px 18px;border-radius:16px;line-height:1.5;font-size:14px;animation:fadeIn 0.3s ease forwards}
        @keyframes fadeIn{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}
        .msg-user{background:#4f46e5;color:#fff;align-self:flex-end}
        .msg-bot{background:#f1f5f9;color:#1e293b;align-self:flex-start}
        .msg-time{font-size:10px;opacity:0.7;margin-top:4px;text-align:right}
        .msg-bot .msg-time{text-align:left}
        /* Indikator Ketik */
        .typing{display:none;align-items:center;gap:4px;background:#f1f5f9;padding:12px 18px;border-radius:16px;align-self:flex-start}
        .dot{width:8px;height:8px;background:#94a3b8;border-radius:50%;animation:bounce 1.4s infinite ease-in-out both}
        .dot:nth-child(2){animation-delay:-0.3s}
        .dot:nth-child(3){animation-delay:-0.6s}
        @keyframes bounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}
        /* Pembagi Waktu */
        .time-divider{align-self:center;font-size:11px;color:#64748b;padding:8px 12px;background:rgba(100,116,139,0.1);border-radius:8px;margin:10px 0}
        /* Info Card */
        .info-card{max-width:78%;padding:14px 18px;border-radius:16px;background:#e6e9ff;color:#4f46e5;align-self:flex-start}
        /* Input Area */
        .ruto-input{padding:20px 24px;border-top:1px solid #e2e8f0;display:flex;gap:12px}
        #msg-input{flex:1;padding:14px 18px;border:1px solid #e2e8f0;border-radius:24px;outline:none;font-size:14px}
        #msg-input:focus{border-color:#4f46e5;box-shadow:0 0 0 3px rgba(79,70,229,0.1)}
        #send-btn{width:44px;height:44px;background:#4f46e5;color:#fff;border:none;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}
        /* Mode Gelap */
        .dark{background:#1a1a2e}
        .dark .ruto-wrap{background:#16213e}
        .dark .ruto-header{background:linear-gradient(135deg,#252941,#1b263b)}
        .dark .msg-bot{background:#0f3460;color:#fff}
        .dark .msg-user{background:#e94560;color:#fff}
        .dark .typing{background:#0f3460}
        .dark .dot{background:#e94560}
        .dark .time-divider{background:rgba(165,180,252,0.1);color:#a5b4fc}
        .dark .info-card{background:rgba(233,69,96,0.2);color:#fff}
        .dark #msg-input{background:#0f3460;border-color:#1a1a2e;color:#fff}
        .dark #msg-input::placeholder{color:rgba(255,255,255,0.6)}
    </style>
</head>
<body>
    <div class="ruto-wrap">
        <div class="ruto-header">
            <div class="header-left">
                <div class="avatar">R</div>
                <div style="font-size:18px;font-weight:bold">Ruto AI</div>
            </div>
            <div class="header-right">
                <button class="ctrl-btn" id="theme-btn">üåô</button>
                <button class="ctrl-btn" id="clear-btn">üóëÔ∏è</button>
                <button class="ctrl-btn" id="help-btn">‚ùì</button>
            </div>
        </div>

        <div class="ruto-chat" id="chat-area">
            <div class="msg msg-bot">Halo! Aku Ruto AI nih, siap buat ngobrol atau bantu jawab pertanyaan kamu ‚Äì mulai dari matematika, sejarah, atau cuma ngobrol santai aja bisa lho! üòä</div>
            <div class="typing" id="typing-indicator"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
        </div>

        <div class="ruto-input">
            <input type="text" id="msg-input" placeholder="Ketik pesanmu... Mau ngobrol apa hari ini?">
            <button id="send-btn">‚Üí</button>
        </div>
    </div>

    <script>
        const c=document.getElementById('chat-area'),i=document.getElementById('msg-input'),s=document.getElementById('send-btn'),
        t=document.getElementById('theme-btn'),cl=document.getElementById('clear-btn'),hp=document.getElementById('help-btn'),
        ty=document.getElementById('typing-indicator');
        let d=false;

        // Mode Gelap/Terang
        t.addEventListener('click',()=>{
            document.body.classList.toggle('dark');
            d=!d;
            t.textContent=d?'‚òÄÔ∏è':'üåô';
        });

        // Bantuan
        hp.addEventListener('click',()=>{
            const h=document.createElement('div');
            h.className='info-card';
            h.innerHTML='<b>‚ú® Bisa aku bantu apa?</b><br>- Ngobrol santai (halo, kabar gimana?)<br>- Matematika (hitung angka, luas, keliling)<br>- Sejarah (Indonesia, perang dunia)<br>- Cuma bilang aja apa yang kamu butuhkan!';
            c.appendChild(h);
        });

        // Hapus Chat
        cl.addEventListener('click',()=>{
            if(confirm('Hapus semua chat?')){
                c.innerHTML='<div class="msg msg-bot">Halo! Aku Ruto AI nih, siap buat ngobrol atau bantu jawab pertanyaan kamu ‚Äì mulai dari matematika, sejarah, atau cuma ngobrol santai aja bisa lho! üòä</div><div class="typing" id="typing-indicator"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>';
            }
        });

        // Fungsi Tambah Waktu
        function addTime(){
            const tm=document.createElement('div');
            tm.className='time-divider';
            tm.textContent=new Date().toLocaleTimeString('id-ID',{hour:'2-digit',minute:'2-digit'});
            c.appendChild(tm);
        }

        // Database Percakapan Tanpa QuizPro
        const chatDB={
            // Salam & Perkenalan
            salam:["Hai hai! Senang bertemu kamu lagi üòä","Halo bosku! Mau ngobrol apa hari ini?","Hei! Gimana kabarmu nih? Semoga baik ya!"],
            perkenalan:["Aku itu Ruto AI ‚Äì teman ngobrol dan pembantu kamu!","Kamu bisa panggil aku Ruto aja, lebih akrab üòÑ","Nama aku Ruto AI, siap membantu kamu kapan aja!"],
            kabar:["Aku sehat dan siap bantu! Kamu gimana? Udah makan belum?","Alhamdulillah baik kok, makasih udah nanya. Kamu bagaimana?","Aku selalu siap aja deh, kamu baru aja dari mana? üòä"],
            
            // Matematika
            mtk_jumlah:["Hasilnya adalah: ","Jumlahnya jadi: "],
            mtk_kurang:["Selisihnya adalah: ","Hasil pengurangan: "],
            mtk_kali:["Hasil perkaliannya: ","Kaliin aja ya, hasilnya: "],
            mtk_bagi:["Hasil pembagian: ","Jika dibagi, hasilnya: "],
            
            // Sejarah
            sejarah_indo:["Indonesia punya sejarah panjang lho! Mulai dari kerajaan Sriwijaya, Majapahit, sampe kolonialisme.","Kemerdekaan kita tanggal 17 Agustus 1945, proklamasi di Jakarta!","Perjuangan kita buat merdeka cukup panjang, dari perang gerilya sampe pembentukan negara."],
            sejarah_pd:["Perang Dunia I tahun 1914-1918, PD II tahun 1939-1945 ya!","PD II jadi salah satu alasan kita bisa merdeka lho."],
            
            // Percakapan Santai
            senang:["Wah senang juga aku bisa bantu!","Makasih ya, kamu juga baik banget lho!","Semoga hari kamu menyenangkan ya!"],
            sedih:["Waduh, semoga cepat merasa lebih baik ya üò¢","Jangan sedih terus ya, ada aku nih buat temenin!","Semoga masalahmu cepat selesai deh!"],
            makan:["Udah makan belum kamu? Jangan sampai kelaparan ya!","Makanannya enak ngga? Aku pengen tau aja üòÑ","Kalau belum makan, cepetan makan ya biar sehat!"],
            
            // Umum
            umum:["Oke deh, aku paham maksud kamu!","Hmm menarik nih, bisa cerita lebih banyak ngga?","Makasih ya udah bilang, aku catat nih!"]
        };

        // Fungsi Kirim Pesan
        function kirim(){
            const ip=i.value.trim();
            if(!ip){alert("Isi pesan dulu dong! üòÑ");return}
            
            // Pesan User
            const p=document.createElement('div');
            p.className='msg msg-user';
            p.textContent=ip;
            c.appendChild(p);
            
            // Tambah Waktu di Pesan User
            const tmUser=document.createElement('div');
            tmUser.className='msg-time';
            tmUser.textContent=new Date().toLocaleTimeString('id-ID',{hour:'2-digit',minute:'2-digit'});
            p.appendChild(tmUser);
            
            i.value="";
            c.scrollTop=c.scrollHeight;
            ty.style.display='flex';
            
            // Tambah Pembagi Waktu Setiap 5 Pesan
            if(c.querySelectorAll('.msg').length%5===0)addTime();
            
            setTimeout(()=>{
                ty.style.display='none';
                jawab(ip);
            },1200);
        }

        // Fungsi Jawab
        function jawab(ip){
            const txt=ip.toLowerCase();
            let respon=chatDB.umum;

            if(txt.includes('halo')||txt.includes('hai'))respon=chatDB.salam;
            else if(txt.includes('nama')||txt.includes('siapa'))respon=chatDB.perkenalan;
            else if(txt.includes('kabar')||txt.includes('gimana'))respon=chatDB.kabar;
            else if(txt.includes('+')||txt.includes('jumlah')){
                const bil=txt.split('+');
                const hsl=parseFloat(bil[0])+parseFloat(bil[1]);
                respon=[chatDB.mtk_jumlah[0]+hsl];
            }
            else if(txt.includes('-')||txt.includes('kurang')){
                const bil=txt.split('-');
                const hsl=parseFloat(bil[0])-parseFloat(bil[1]);
                respon=[chatDB.mtk_kurang[0]+hsl];
            }
            else if(txt.includes('x')||txt.includes('kali')){
                const bil=txt.split(/x|\*/);
                const hsl=parseFloat(bil[0])*parseFloat(bil[1]);
                respon=[chatDB.mtk_kali[0]+hsl];
            }
            else if(txt.includes(':')||txt.includes('bagi')){
                const bil=txt.split(/:|bagi/);
                const hsl=parseFloat(bil[0])/parseFloat(bil[1]);
                respon=[chatDB.mtk_bagi[0]+hsl];
            }
            else if(txt.includes('sejarah')||txt.includes('merdeka'))respon=chatDB.sejarah_indo;
            else if(txt.includes('perang dunia'))respon=chatDB.sejarah_pd;
            else if(txt.includes('senang')||txt.includes('bahagia'))respon=chatDB.senang;
            else if(txt.includes('sedih')||txt.includes('sedikit'))respon=chatDB.sedih;
            else if(txt.includes('makan'))respon=chatDB.makan;

            // Pesan Bot
            const b=document.createElement('div');
            b.className='msg msg-bot';
            b.textContent=respon[Math.floor(Math.random()*respon.length)];
            c.appendChild(b);
            
            // Tambah Waktu di Pesan Bot
            const tmBot=document.createElement('div');
            tmBot.className='msg-time';
            tmBot.textContent=new Date().toLocaleTimeString('id-ID',{hour:'2-digit',minute:'2-digit'});
            b.appendChild(tmBot);
            
            c.scrollTop=c.scrollHeight;
        }

        // Event Listener
        s.addEventListener('click',kirim);
        i.addEventListener('keydown',e=>{if(e.key==='Enter')kirim()});
    </script>
</body>
</html>
